<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Scratch Car</title>
  <link rel="icon" type="image/svg+xml" href="images/car_interior.svg">
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
  <h1>Scratch Car</h1>
  <div id="car-container" style="position: relative;">
    <img id="car-image" src="images/car_interior.svg" alt="Car Interior" style="width:100%;">
    <!-- car_light_overlay.svgをインラインSVGとして埋め込む -->
    <svg id="car-light-overlay" width="600" height="400" viewBox="0 0 600 400" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;">
      <g id="car-light-indicator" style="opacity:0.2">
        <circle cx="300" cy="180" r="18" fill="yellow" stroke="#aaa" stroke-width="3" />
        <rect x="292" y="190" width="16" height="8" rx="3" fill="#ccc" />
        <path d="M300 162 L300 150" stroke="#aaa" stroke-width="3"/>
        <path d="M290 170 Q285 175 290 180" stroke="#aaa" stroke-width="2" fill="none"/>
        <path d="M310 170 Q315 175 310 180" stroke="#aaa" stroke-width="2" fill="none"/>
      </g>
    </svg>
    <div id="bgm-indicator" style="position: absolute; left: 50%; top: 30px; transform: translateX(-50%); background: rgba(0,0,0,0.7); color: #0ff; padding: 6px 18px; border-radius: 16px; font-size: 18px; font-family: Arial, sans-serif; display: none; z-index: 10; box-shadow: 0 0 8px #0ff;">
      ♪ BGM再生中
    </div>
    <div id="video-indicator" style="position: absolute; left: 50%; top: 70px; transform: translateX(-50%); background: rgba(0,0,0,0.7); color: #ff0; padding: 6px 18px; border-radius: 16px; font-size: 18px; font-family: Arial, sans-serif; display: none; z-index: 10; box-shadow: 0 0 8px #ff0;">
      ▶ 動画再生中
    </div>
  </div>
  <div id="blocks-container">
    <div id="blocklyDiv" style="height: 480px; width: 600px;"></div>
    <button id="runButton">Execute</button>
  </div>
  <script src="https://unpkg.com/blockly/blockly_compressed.js"></script>
  <script src="https://unpkg.com/blockly/blocks_compressed.js"></script>
  <script src="https://unpkg.com/blockly/javascript_compressed.js"></script>
  <script src="https://unpkg.com/blockly/msg/ja.js"></script>
</body>
<script src="script.js?ver=20250629d" defer></script>
</html>